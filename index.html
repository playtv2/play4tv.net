<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>HotPlay VOD</title>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-auth-compat.js"></script>
    <style>
        :root { --main-red: #e50914; --bg-black: #141414; }
        body { background-color: var(--bg-black); color: white; font-family: sans-serif; margin: 0; display: flex; height: 100vh; overflow: hidden; }
        
        /* ×ª×¤×¨×™×˜ ×¦×“×“×™ */
        .sidebar { width: 240px; background: black; display: flex; flex-direction: column; padding: 20px; border-left: 1px solid #333; }
        .logo { width: 150px; margin-bottom: 40px; align-self: center; }
        .nav-item { padding: 15px; cursor: pointer; font-size: 18px; transition: 0.3s; display: flex; align-items: center; }
        .nav-item:hover { color: var(--main-red); background: #1a1a1a; }
        .search-box { background: #333; border: none; color: white; padding: 10px; border-radius: 5px; margin-bottom: 20px; }

        /* ×ª×•×›×Ÿ ×¨××©×™ */
        .main-view { flex: 1; overflow-y: auto; padding: 40px; }
        .category-row { display: flex; overflow-x: auto; gap: 15px; padding-bottom: 30px; }
        .card { min-width: 200px; transition: 0.3s; cursor: pointer; }
        .card:hover { transform: scale(1.05); }
        .card img { width: 100%; border-radius: 5px; }

        /* ××¡×š ×‘×—×™×¨×ª ×¤×¨×•×¤×™×œ×™× */
        #profile-screen { position: fixed; inset: 0; background: var(--bg-black); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 1000; }
        .profile-list { display: flex; gap: 30px; margin-top: 30px; }
        .profile-item { text-align: center; cursor: pointer; }
        .profile-avatar { width: 120px; height: 120px; background: #333; border-radius: 5px; margin-bottom: 10px; border: 3px solid transparent; }
        .profile-item:hover .profile-avatar { border-color: white; }

        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div id="login-screen" style="width:100%; text-align:center; padding-top:150px;">
        <h1 style="color:red; font-size:50px;">HotPlay</h1>
        <button onclick="login()" style="padding:15px 30px; background:red; color:white; border:none; cursor:pointer; font-size:20px;">×”×ª×—×‘×¨ ×¢× Google</button>
    </div>

    <div id="profile-screen" class="hidden">
        <h1>××™ ×¦×•×¤×”?</h1>
        <div class="profile-list">
            <div class="profile-item" onclick="selectProfile('× ×™×ª××™')">
                <div class="profile-avatar" style="background:blue;"></div>
                <span>× ×™×ª××™</span>
            </div>
            <div class="profile-item" onclick="selectProfile('××•×¨×—')">
                <div class="profile-avatar" style="background:green;"></div>
                <span>××•×¨×—</span>
            </div>
        </div>
    </div>

    <div id="app-interface" class="hidden" style="display:flex; width:100%;">
        <div class="sidebar">
            <img src="https://upload.wikimedia.org/wikipedia/commons/0/08/Netflix_2015_logo.svg" class="logo"> <input type="text" class="search-box" placeholder="×—×™×¤×•×© ×¡×“×¨×”/×¡×¨×˜..." oninput="search(this.value)">
            <div class="nav-item" onclick="showCategory('all')">ğŸ  ×“×£ ×”×‘×™×ª</div>
            <div class="nav-item" onclick="showCategory('series')">ğŸ“º ×¡×“×¨×•×ª</div>
            <div class="nav-item" onclick="showCategory('movies')">ğŸ¬ ×¡×¨×˜×™×</div>
            <div class="nav-item" onclick="showCategory('kids')">ğŸ§¸ ×™×œ×“×™×</div>
        </div>
        <div class="main-view" id="main-view">
            </div>
    </div>

    <script src="data.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAuJlFyTuYypCVdJrZCrQGOEZZS5WDH6pI",
            authDomain: "app-c71dd.firebaseapp.com",
            projectId: "app-c71dd",
            storageBucket: "app-c71dd.firebasestorage.app",
            messagingSenderId: "256556501971",
            appId: "1:256556501971:web:98dbba775b0b8ca913bd26"
        };
        firebase.initializeApp(firebaseConfig);

        function login() {
            const provider = new firebase.auth.GoogleAuthProvider();
            firebase.auth().signInWithPopup(provider);
        }

        firebase.auth().onAuthStateChanged((user) => {
            if (user && user.email === "nitaylayish298@gmail.com") {
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('profile-screen').classList.remove('hidden');
            }
        });

        function selectProfile(name) {
            document.getElementById('profile-screen').classList.add('hidden');
            document.getElementById('app-interface').classList.remove('hidden');
            renderApp();
        }

        function renderApp(filter = '') {
            const view = document.getElementById('main-view');
            view.innerHTML = `<h2>××•××œ×¦×™× ×¢×‘×•×¨×š</h2><div class="category-row" id="row-main"></div>`;
            
            seriesData.forEach(item => {
                if (item.title.includes(filter)) {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `<img src="${item.image}"><h4>${item.title}</h4>`;
                    card.onclick = () => showSeriesPage(item);
                    document.getElementById('row-main').appendChild(card);
                }
            });
        }

        function showSeriesPage(series) {
            const view = document.getElementById('main-view');
            let episodesHtml = series.episodes.map(ep => `
                <div style="display:flex; background:#222; margin:10px; padding:10px; border-radius:5px; cursor:pointer;" onclick="window.location.href='${ep.url}'">
                    <div style="flex:1;">
                        <b>${ep.name}</b><br><small>${ep.desc}</small>
                    </div>
                    <button style="background:red; color:white; border:none; padding:5px 15px;">×¦×¤×”</button>
                </div>
            `).join('');

            view.innerHTML = `
                <button onclick="renderApp()" style="background:none; color:white; border:1px solid white; cursor:pointer; padding:5px 10px;">â† ×—×–×•×¨</button>
                <h1>${series.title}</h1>
                <p>${series.description}</p>
                <h3>×¤×¨×§×™×:</h3>
                ${episodesHtml}
            `;
        }

        function search(val) { renderApp(val); }
    </script>
</body>
</html>
