<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>HotPlay TV - מאובטח</title>
    
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-auth-compat.js"></script>

    <style>
        body { background-color: #000; color: #fff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 30px; }
        h1 { color: red; font-size: 35px; margin-bottom: 40px; text-align: center; }
        .category-section { margin-bottom: 40px; }
        .category-title { font-size: 22px; margin-bottom: 15px; font-weight: bold; border-right: 4px solid red; padding-right: 10px; }
        .series-row { display: flex; overflow-x: auto; gap: 20px; padding: 10px 0; }
        .series-card { min-width: 220px; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent; border-radius: 10px; overflow: hidden; }
        .series-card:focus { transform: scale(1.15); outline: none; border-color: #fff; box-shadow: 0 0 15px rgba(255,255,255,0.5); }
        .series-card img { width: 100%; height: 130px; object-fit: cover; }
        .series-name { padding: 8px; text-align: center; font-size: 14px; background: #1a1a1a; }
        .series-row::-webkit-scrollbar { display: none; }

        /* עיצוב למסך כניסה */
        #login-screen { text-align: center; margin-top: 150px; }
        .login-btn { padding: 15px 30px; font-size: 20px; cursor: pointer; background: red; color: white; border: none; border-radius: 5px; font-weight: bold; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div id="login-screen">
        <h1>ברוכים הבאים ל-HotPlay</h1>
        <p>יש להתחבר עם החשבון המורשה כדי לצפות בתכנים</p>
        <button class="login-btn" onclick="login()">התחבר עם Google</button>
    </div>

    <div id="content" class="hidden">
        <h1>HotPlay סדרות</h1>
        <div id="main-content"></div>
    </div>

    <script src="data.js"></script>

    <script>
        // הנתונים המדויקים מהצילום מסך שלך
        const firebaseConfig = {
            apiKey: "AIzaSyAuJLFyTuYvYpCVdJrzCrqGOEZZS5WDh6pI",
            authDomain: "app-c71dd.firebaseapp.com",
            projectId: "app-c71dd",
            storageBucket: "app-c71dd.firebasestorage.app",
            messagingSenderId: "256556501971",
            appId: "1:256556501971:web:98dbba775b0b8ca913bd26"
        };

        // אתחול Firebase
        firebase.initializeApp(firebaseConfig);

        // פונקציית התחברות
        function login() {
            const provider = new firebase.auth.GoogleAuthProvider();
            firebase.auth().signInWithPopup(provider).catch(err => {
                console.error(err);
                alert("שגיאה: " + err.message);
            });
        }

        // המנעול: בדיקה האם המשתמש המחובר הוא ניתאי
        firebase.auth().onAuthStateChanged((user) => {
            if (user && user.email === "nitaylayish298@gmail.com") {
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('content').classList.remove('hidden');
                loadContent();
            } else if (user) {
                alert("אין לך הרשאה! רק ניתאי יכול להיכנס.");
                firebase.auth().signOut();
            }
        });

        // פונקציה לטעינת הקטגוריות והסדרות מהקובץ data.js
        function loadContent() {
            const categories = ["חדשים ומומלצים", "אסור לפספס", "הפקות מקור", "סדרות קומדיה", "סדרות דרמה"];
            const container = document.getElementById('main-content');
            container.innerHTML = ""; 

            categories.forEach(cat => {
                const section = document.createElement('div');
                section.className = 'category-section';
                section.innerHTML = `<div class="category-title">${cat}</div><div class="series-row" id="row-${cat}"></div>`;
                container.appendChild(section);

                if (typeof seriesData !== 'undefined') {
                    seriesData.filter(s => s.category === cat).forEach(item => {
                        const card = document.createElement('div');
                        card.className = 'series-card';
                        card.tabIndex = "0"; 
                        card.innerHTML = `<img src="${item.image}"><div class="series-name">${item.title}</div>`;
                        card.onclick = () => { window.location.href = item.driveUrl; };
                        document.getElementById(`row-${cat}`).appendChild(card);
                    });
                }
            });
        }
    </script>
</body>
</html>